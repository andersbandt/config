;;; base.el ---                                      -*- lexical-binding: t; -*-

;; Copyright (C) 2024  U-DESKTOP-F81D59A\ander

;; Author: U-DESKTOP-F81D59A\ander <ander@DESKTOP-F81D59A>
;; Keywords:





;; MANAGE PACKAGES
(require 'ido)
(ido-mode t)


;; ETC SETTING
(desktop-save-mode 1)


;; EDITOR SETTINGS
(line-number-mode 1)
(global-display-line-numbers-mode) ;; this one enables line numbers
(setq-default truncate-lines 1)


;; Set the default font
(set-face-attribute 'default nil :font "DejaVu Sans Mono" :height 80)

;; theme settings - THESE DON't WORK IF YOU OVERRIDE THE CONSOLE SETTINGS I GUESS IN CYGWIN
(load-theme 'tango t) ;;pretty good, like a white/gray with green
;;(load-theme 'misterioso t)n



;; CODING WITH EMACS
;; turn on syntax highlighting
;; (global-font-lock-mode 1)
(global-font-lock-mode t) ;; enable syntax highlighting for all modes
(setq-default indent-tabs-mode nil)
(setq-default tab-width 4) ;; set tabs to be 4 spaces wide
(setq c-basic-offset 4) ; this line is critical for C based modes like .c and .php I guess
(setq-default indent-line-function 'insert-tab)

(electric-pair-mode 1)


;; file templates
(add-hook 'find-file-hook 'auto-insert)

(add-to-list 'auto-mode-alist '("\\.ino\\'" . c++-mode)) ;; Associate .ino files with c++-mode

;; Customize font-lock mode for c++-mode (following stuff is for Arduino files I think)
(defun my-c++-mode-hook ()
  (font-lock-add-keywords
   nil
   '(("\\<\\(HIGH\\|LOW\\|OUTPUT\\|INPUT\\|INPUT_PULLUP\\|byte\\|bool\\|int\\|char\\|long\\|unsigned\\|float\\|double\\|string\\|void\\|setup\\|loop\\|if\\|else\\|while\\|for\\|switch\\|case\\|break\\|continue\\|return\\|class\\|struct\\|public\\|private\\|protected\\|static\\|const\\|volatile\\|typedef\\)\\>"
      . font-lock-keyword-face)
     ("\\<\\(Serial\\|Wire\\|pinMode\\|digitalWrite\\|digitalRead\\|analogWrite\\|analogRead\\|delay\\|millis\\|micros\\|pinMode\\|digitalWrite\\|digitalRead\\|analogWrite\\|analogRead\\|attachInterrupt\\|detachInterrupt\\|interrupts\\|noInterrupts\\|EEPROM\\)\\>"
      . font-lock-builtin-face)))
)

(add-hook 'c++-mode-hook 'my-c++-mode-hook)


;; backups
(setq backup-directory-alist '(("." . "~/.emacs.d/.saves"))) ; don't litter fs tree
(setq backup-by-copying t) ; don't clobber symlinks
(setq delete-old-versions t
	  kept-new-versions 6
      kept-old-versions 2
      version-control t) ; use versioned backups



